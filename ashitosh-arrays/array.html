<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlgoSprint Â· Arrays Studio</title>
    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="array.css" />
</head>
<body class="module-body module-body--arrays light-theme">
    <div class="module-shell">
        <a class="back-link" href="../index.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 5l-7 7 7 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Back to dashboard
        </a>

        <header class="module-header">
            <span class="eyebrow">Module</span>
            <h1>Arrays Studio</h1>
            <p>Experiment with dynamic arrays, inspect index positions, and understand how insert, delete, and update affect structure in real time.</p>
        </header>

        <main class="array-layout">
            <aside class="panel array-console">
                <div class="panel-header">
                    <h2 class="panel-title">Array Console</h2>
                    <span class="badge">Live state</span>
                </div>
                <div class="form-shell">
                    <div>
                        <label for="elementInput">Element</label>
                        <input type="number" id="elementInput" placeholder="e.g., 42" />
                    </div>
                    <div>
                        <label for="indexInput">Index</label>
                        <input type="number" id="indexInput" placeholder="Leave empty to push" />
                    </div>
                </div>
                <div class="array-actions">
                    <button class="btn btn--primary" onclick="insertElement()">Insert</button>
                    <button class="btn btn--neutral" onclick="updateElement()">Update</button>
                    <button class="btn btn--ghost" onclick="deleteElement()">Delete</button>
                    <button class="btn btn--ghost" onclick="resetArray()">Reset</button>
                </div>
                <p class="panel-note">Pro tip: omit index to append, or set both fields to update specific positions.</p>
            </aside>

            <section class="panel array-visual">
                <div class="panel-header">
                    <h2 class="panel-title">Visualiser</h2>
                    <span class="badge">Indexed view</span>
                </div>
                <div class="array-container" id="arrayContainer" aria-live="polite"></div>
            </section>
        </main>
    </div>

    <script>
    let arr = [];

    function renderArray() {
        const container = document.getElementById("arrayContainer");
        container.innerHTML = "";
        arr.forEach((value, index) => {
            const node = document.createElement("div");
            node.className = "array-node";
            node.title = "Index: " + index;
            node.innerHTML = `<span class="array-node__value">${value}</span><span class="array-node__index">[${index}]</span>`;
            container.appendChild(node);
        });
    }

    function insertElement() {
        const val = document.getElementById("elementInput").value;
        const idx = document.getElementById("indexInput").value;
        if (val === "") return alert("Please enter a value!");

        if (idx === "") arr.push(Number(val));
        else if (idx < 0 || idx > arr.length) return alert("Invalid index!");
        else arr.splice(idx, 0, Number(val));

        renderArray();
    }

    function deleteElement() {
        const idx = document.getElementById("indexInput").value;
        if (idx === "") return alert("Please enter an index to delete!");
        if (idx < 0 || idx >= arr.length) return alert("Invalid index!");
        arr.splice(idx, 1);
        renderArray();
    }

    function updateElement() {
        const val = document.getElementById("elementInput").value;
        const idx = document.getElementById("indexInput").value;
        if (val === "" || idx === "") return alert("Please enter both value and index!");
        if (idx < 0 || idx >= arr.length) return alert("Invalid index!");
        arr[idx] = Number(val);
        renderArray();
    }

    function resetArray() {
        arr = [];
        renderArray();
    }

    // Initialize empty array view
    renderArray();
    </script>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle-btn" data-theme-toggle aria-label="Toggle theme">ðŸŒ™</button>

    <!-- Theme Manager Script -->
    <script src="../styles/theme-manager.js"></script>
</body>
</html>
